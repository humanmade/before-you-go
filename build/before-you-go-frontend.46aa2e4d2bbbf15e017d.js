(()=>{"use strict";const{history:r}=window,e=()=>new URLSearchParams(document.location.search),t=function(r,o){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(o)&&"string"!==typeof o)return!1;if(!Array.isArray(o))return t(r,[o],n);if(!n||!n.getAll)return t(r,o,e());for(let e of n.getAll(r))if(e&&"string"===typeof e)for(let r of o)if(e.toLowerCase()===r.toLowerCase())return!0;return!1},o=r=>r.replace(/https?:\/\//,"").replace(/\/+$/,"").toLowerCase(),n=(r,e)=>{if(!Array.isArray(r)&&"string"!==typeof r)return!1;if(!Array.isArray(r))return n([r],e);if("string"!==typeof e)return n(r,document.referrer);for(let t of r)if(o(e)===o(t))return!0;return!1},i=r=>{const{referrers:e,utmSources:o,callback:i}=r;(t("utm_source",o)||n(e))&&i(r)},a=e=>{let{url:t}=e;t&&((e,t)=>{const o=window.location.href;r.replaceState(e,"",t),r.pushState({},"",o)})({},t)};window.addEventListener("load",(()=>{const r=Object.assign({referrers:[],utmSources:[]},window.BYG||{});"function"!==typeof r.trigger?r.url&&("function"!==typeof r.trigger&&(r.trigger=i),"function"!==typeof r.callback&&(r.callback=a),r.trigger(r)):r.trigger(r)}))})();