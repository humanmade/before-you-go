(()=>{"use strict";const e=Altis.Analytics,{history:t,addEventListener:n,removeEventListener:r}=window,i=t=>{const{callback:n,urls:r}=t;t.url=(t=>{const n=(0,e.getAudiences)(),r=t.find((e=>{let{audience:t}=e;return n.includes(t)}));return!!r&&r.permalink})(r),n(t)},o=e=>{let{url:i}=e;i&&((e,i)=>{const o=window.location.href,c=e=>{let{target:t}=e;setTimeout((()=>{[i,o].includes(t.location.href)&&t.location.reload(),r("popstate",c)}))};t.replaceState(e,"",i),t.pushState({},"",o),n("popstate",c)})({},i)};window.addEventListener("load",(()=>{const e=Object.assign({referrers:[],utmSources:[]},window.BYG||{});"function"!==typeof e.trigger?("function"!==typeof e.trigger&&(e.trigger=i),"function"!==typeof e.callback&&(e.callback=o),e.trigger(e)):e.trigger(e)}))})();